////////////////////////////////////////////////////////////////////////////////
//СЕРВИСНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ


// Процедура управляет отображением списка задач:
// устанавлмивает отбор только активных задач или сбрасывает этот отбор.
//
Процедура УстановитьОтборАктивных(ТолькоАктивные)

	Если ТолькоАктивные Тогда

		ЭтаФорма.Отбор.Выполнена.Установить(Ложь);

	Иначе

		ЭтаФорма.Отбор.Выполнена.Использование = Ложь;

	КонецЕсли;

КонецПроцедуры // УстановитьОтборАктивных()


////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Процедура обработчик события "ПриПолученииДанных".
//
Процедура ЗадачаСписокПриПолученииДанных(Элемент, ОформленияСтрок)

	Для Каждого ОформленияСтроки Из ОформленияСтрок Цикл

		Если ОформленияСтроки.ДанныеСтроки.Выполнена Тогда

			ОформленияСтроки.ЦветТекста = ЦветаСтиля.ТекстВторостепеннойНадписи;

		КонецЕсли;
	КонецЦикла;

КонецПроцедуры // ЗадачаСписокПриПолученииДанных()

// Процедура обработчик действия элемента панели "ОтборАктивных".
//
Процедура ДействияФормыОтборАктивных(Кнопка)

	УстановитьОтборАктивных(Не Кнопка.Пометка);
	Кнопка.Пометка = Не Кнопка.Пометка;

КонецПроцедуры // ДействияФормыОтборАктивных()

// Процедура обработчик действия элемента панели "КартаМаршрута".
//
Процедура ДействияФормыКартаМаршрута(Кнопка)

	ТекущиеДанные = ЭлементыФормы.ЗадачаСписок.ТекущиеДанные;
	Если Не ТекущиеДанные = Неопределено Тогда

		Если ЗначениеЗаполнено(ТекущиеДанные.Ссылка.БизнесПроцесс) Тогда

			РаботаСБизнесПроцессами.ОткрытьКартумаршрута(ТекущиеДанные.Ссылка.БизнесПроцесс);

		КонецЕсли;

	КонецЕсли;

КонецПроцедуры // ДействияФормыКартаМаршрута()
