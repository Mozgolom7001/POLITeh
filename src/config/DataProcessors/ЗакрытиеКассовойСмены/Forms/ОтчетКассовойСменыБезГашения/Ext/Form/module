
// Функция возвращает признак того, что клиент поддерживает работу с видом ТО,
// переданным в качестве параметра.
//
// Параметры:
//  Вид      - <ПеречислениеСсылка.ВидыТорговогоОборудования>
//           - Вид торгового оборудования, информация о поддержке
//             которого запрашивается.
//
// Возвращаемое значение:
//  <Булево> - Признак поддержки указанного класса торгового оборудования.
//
Функция ПоддерживаетсяВидТО(Вид) Экспорт

	Результат = Ложь;

	Если Вид = Перечисления.ВидыТорговогоОборудования.ФискальныйРегистратор
		ИЛИ Вид = Перечисления.ВидыТорговогоОборудования.ККТ Тогда
		Результат = Истина;
	КонецЕсли;

	Возврат Результат;

КонецФункции // ПоддерживаетсяВидТО()

// Обработчик события "ПриОткрытии" формы.
//
Процедура ПриОткрытии()

	ПолучитьСерверТО().ПодключитьКлиента(ЭтаФорма);

КонецПроцедуры // ПриОткрытии()

// Обработчик события "ПриЗакрытии" формы.
//
Процедура ПриЗакрытии()

	ПолучитьСерверТО().ОтключитьКлиента(ЭтаФорма);

КонецПроцедуры // ПриЗакрытии()

// Обработчик нажатия кнопки "Снять X-отчет".
//
Процедура ОсновныеДействияФормыОсновныеДействияФормыВыполнить(Кнопка)

	Перем ФР;

	Если Не РаботаСТорговымОборудованием.ПолучитьПроверитьПараметрыДляПробитияЧека(ФР, Истина) Тогда
		Возврат;
	КонецЕсли;

	Пароль    = ПолучитьСерверТО().ПолучитьПарольАдминистратораККМ();
	Результат = ПолучитьСерверТО().ОтчетБезГашения(ФР, Пароль);
	Если ЗначениеЗаполнено(Результат) Тогда
		ТекстОшибки = ПолучитьСерверТО().ПолучитьТекстОшибкиФРТО(Результат);
		Предупреждение(ТекстОшибки);
	КонецЕсли;

КонецПроцедуры // ОсновныеДействияФормыОсновныеДействияФормыВыполнить()
