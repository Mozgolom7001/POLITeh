
Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры

Процедура ПриОткрытии()
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры

// Обработчик события "ПриИзменении" реквизита "Эквайрер".
//
Процедура ЭквайрерПриИзменении(Элемент)

	Если ДоговорВзаиморасчетов.Владелец <> Эквайрер Тогда
		СЗ = Новый СписокЗначений;
		СЗ.Добавить(Перечисления.ВидыДоговоровКонтрагентов.Прочее);

		Если ЗаполнениеДокументов.МожноИспользоватьДоговорДляДокумента(Эквайрер.ОсновнойДоговорКонтрагента, Эквайрер, Неопределено, Новый Структура("СписокДопустимыхВидовДоговоров", СЗ)) Тогда
			ДоговорВзаиморасчетов = Эквайрер.ОсновнойДоговорКонтрагента;
		Иначе
			ДоговорВзаиморасчетов = Справочники.ДоговорыКонтрагентов.ПустаяСсылка();
		КонецЕсли;
	КонецЕсли;

КонецПроцедуры // ЭквайрерПриИзменении()

// Обработчик события "ПриИзменении" реквизита "ДоговорВзаиморасчетов".
//
Процедура ДоговорВзаиморасчетовПриИзменении(Элемент)

	Если ДоговорВзаиморасчетов.Владелец <> Эквайрер Тогда
		Эквайрер = ДоговорВзаиморасчетов.Владелец;
	КонецЕсли;

КонецПроцедуры // ДоговорВзаиморасчетовПриИзменении()

// Обработчик события "ПриИзменении" реквизита "ВидОплаты" в ТЧ "ТарифыЗаРасчетноеОбслуживание".
//
Процедура ТарифыЗаРасчетноеОбслуживаниеВидОплатыПриИзменении(Элемент)

	ТекущаяСтрока = ЭлементыФормы.ТарифыЗаРасчетноеОбслуживание.ТекущиеДанные;

	УправлениеРозничнойТорговлей.ПроверитьКорректностьВидаОплаты(ТекущаяСтрока.ВидОплаты, Перечисления.ТипыОплатЧекаККМ.ПлатежнаяКарта);

КонецПроцедуры // ТарифыЗаРасчетноеОбслуживаниеВидОплатыПриИзменении()

// Обработчик события "НачалоВыбора" реквизита "ВидОплаты" в ТЧ "ТарифыЗаРасчетноеОбслуживание".
//
Процедура ТарифыЗаРасчетноеОбслуживаниеВидОплатыНачалоВыбора(Элемент, СтандартнаяОбработка)

	УправлениеРозничнойТорговлей.НачалоВыбораВидаОплатыЧекаККМ(Элемент, Перечисления.ТипыОплатЧекаККМ.ПлатежнаяКарта, СтандартнаяОбработка);

КонецПроцедуры // ТарифыЗаРасчетноеОбслуживаниеВидОплатыНачалоВыбора()

Процедура ДоговорНачалоВыбора(Элемент, СтандартнаяОбработка)
	ВидДоговора_Прочее  		= Новый СписокЗначений;
	ВидДоговора_Прочее.Добавить(Перечисления.ВидыДоговоровКонтрагентов.Прочее);
	
	РаботаСДиалогами.НачалоВыбораЗначенияДоговораКонтрагента(ЭтотОбъект, ЭтаФорма, Элемент, Эквайрер, ДоговорВзаиморасчетов,
			ВидДоговора_Прочее, СтандартнаяОбработка);
КонецПроцедуры

Процедура ПослеЗаписи()
	МеханизмНумерацииОбъектов.ОбновитьПодсказкуКодНомерОбъекта(ЭтотОбъект.Метаданные(), ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры


