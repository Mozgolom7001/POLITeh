
Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры

// Процедура - обработчик события "ПередОткрытием" формы
//
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)

	Если ЭтоНовый() Тогда

		Если Коэффициент = 0 Тогда
			Коэффициент = 1;
		КонецЕсли;

		Если НЕ ЗначениеЗаполнено(ЕдиницаПоКлассификатору) Тогда
			ЕдиницаПоКлассификатору = УправлениеПользователями.ПолучитьЗначениеПоУмолчанию(глЗначениеПеременной("глТекущийПользователь"), "ОсновнаяЕдиницаПоКлассификатору");
		КонецЕсли;

	КонецЕсли;

КонецПроцедуры

// Обработчик события ПриОткрытии для Формы.
//
Процедура ПриОткрытии()

	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);

	ЕдиницаИзмеренияВеса = Константы.ЕдиницаИзмеренияВеса.Получить();
	Если НЕ ЗначениеЗаполнено(ЕдиницаИзмеренияВеса) Тогда
		ЭлементыФормы.НадписьВес.Заголовок = "Вес";
	Иначе
		ЭлементыФормы.НадписьВес.Заголовок = "Вес (" + СокрЛП(ЕдиницаИзмеренияВеса)+")";
	КонецЕсли;

	ЕдиницаИзмеренияОбъема = Константы.ЕдиницаИзмеренияОбъема.Получить();
	Если НЕ ЗначениеЗаполнено(ЕдиницаИзмеренияОбъема) Тогда
		ЭлементыФормы.НадписьОбъем.Заголовок = "Объем";
	Иначе
		ЭлементыФормы.НадписьОбъем.Заголовок = "Объем (" + СокрЛП(ЕдиницаИзмеренияОбъема) +")";
	КонецЕсли;

КонецПроцедуры // ПриОткрытии()

Процедура ЕдиницаПоКлассификаторуПриИзменении(Элемент)
	
	Наименование = СокрЛП(ЕдиницаПоКлассификатору);
	
КонецПроцедуры

Процедура ПослеЗаписи()
	МеханизмНумерацииОбъектов.ОбновитьПодсказкуКодНомерОбъекта(ЭтотОбъект.Метаданные(), ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры






